.. _realtime_monitoring:

===================
Realtime monitoring
===================

The **Monitoring** menu can be used to view the evolution of the supervision of its information system in real time.

*************
Object status
*************

Statuses are indicators for the hosts or the services. Each status has a precise meaning for the object.
To each status corresponds a code generated by the monitoring plugin according to thresholds defined by the user.

Host status
===========

The table below summarises all the possible statuses for a host.

+-------------------+----------------------+--------------------------------------+
| Status            |  Exit code           | Description                          | 
+===================+======================+======================================+
| UP                |  0                   | The host is available and reachable  |
+-------------------+----------------------+--------------------------------------+
| DOWN              |  1                   | The host is unavailable              |
+-------------------+----------------------+--------------------------------------+
| UNREACHABLE       |  2                   | The host is unreachable              |
+-------------------+----------------------+--------------------------------------+

Service status
==============

The table below summarises all the possible statuses for a service.

+-------------------+----------------------+---------------------------------------------------------------------------+
| Status            |  Exit code           | Description                                                               | 
+===================+======================+===========================================================================+
| OK                |  0                   | The service presents no problem                                           |
+-------------------+----------------------+---------------------------------------------------------------------------+
| WARNING           |  1                   | The service has reached the warning threshold                             |
+-------------------+----------------------+---------------------------------------------------------------------------+
| CRITICAL          |  2                   | The service has reached the critical threshold                            |
+-------------------+----------------------+---------------------------------------------------------------------------+
| UNKNOWN           |  3                   | The status of the service cannot be checked (e.g.: SNMP agent down, etc.) |
+-------------------+----------------------+---------------------------------------------------------------------------+

Advanced statuses
=================

In addition to the standard statuses, new statuses can be used to add additional information :

* The PENDING status is a status displayed for a service or a host freshly configured but which has not yet been checked by the scheduler.
* The UNREACHABLE status is a status indicating that the host (parental relationship) is situated downstream of a host with a DOWN status.
* The FLAPPING status is a status indicating that the status change percentage of the object is very high. This percentage is obtained from calculations performed by the network monitoring engine.
* The ACKNOWLEDGED status is a status indicating that the incident of the service or of the host has been taken into account by a user.
* The DOWNTIME status is a status indicating that the incident of the service or of the host occurred during a downtime period.

SOFT and HARD states
====================

A host or a service can have two states :

* SOFT : Signifies that an incident has just been detected and that it has to be confirmed.
* HARD : Signifies that the status of the incident is confirmed. Once the status is confirmed, the notification process is engaged (sending of a mail, SMS, etc.).

Status confirmation
===================

An incident (Not-OK status) is confirmed as of the moment when the number of validation attempts has reached its end.
The configuration of an object (host or service) requires a regular check interval, a number of attempts to confirm a Not-OK status and an irregular check interval.
As soon as the first incident is detected, the state is "SOFT" until its confirmation into "HARD", triggering the notification process.

Example :

A service has the following check settings :

 * Max check attempts : 3
 * Normal check interval : 5 minutes
 * Retry check interval : 1 minute
 
Let us imagine the following scenario :

 * Instant t + 0 : The service is checked, it has the OK status.
 * Instant t + 5 : The second check shows that the service has the CRITICAL status. The service goes into the SOFT state (attempt 1/3).
 * Instant t + 6 : The third check is performed, the service still has the CRITICAL status in SOFT (attempt 2/3).
 * Instant t + 7 : The fourth check shows that the service still has the CRITICAL status (attempt 3/3). The number of tests has been completed; the state is configured (HARD). The notification process is triggered.
 * Instant t + 8 : The service recovers OK status. It goes directly into the HARD state. The notification process is triggered.
 * Instant t + 13 : The service has the WARNING status. It goes into the SOFT state (attempt 1/3).
 * Instant t + 14 : The service still has the WARNING status (attempt 2/3).
 * Instant t + 15 : The service has the CRITICAL status. It remains in the SOFT state because it has changed status.

***************
Generic actions
***************

By default, during viewing of statuses of hosts or services, the monitoring data is refreshed automatically (15 seconds by default).
Nevertheless, several icons can be used to check the refreshing of the data.
The table below summarises the functions of these icons :

+------------+-----------------------------------------------------------------------+
|   Icon     |   Description                                                         | 
+============+=======================================================================+
| |refresh|  | Serves to refresh the results manually                                |
+------------+-----------------------------------------------------------------------+
| |pause|    | Serves to put the automatic data refreshment into pause               |
+------------+-----------------------------------------------------------------------+
| |resume|   | Serves to restart automatic data refreshment                          |
+------------+-----------------------------------------------------------------------+

*****
Hosts
*****

Viewing
=======

To view the status of hosts, go into the menu **Monitoring** ==> **Hosts**.

.. image :: images/01.png
   :align: center

The grey search bar can be used to filter the result displays.
The left menu can be used to change the hosts visible in the table :

* To view the hosts with a problem but not acknowledged, click on **Unhandled Problems**
* To view all the hosts with a problem, click on **Host Problems**
* To view all the hosts, click on **Hosts**
* To view the hosts classified by host groups, click on **Host Groups**

.. image :: /images/user/monitoring/04hostgroup.png
   :align: center 

Host tables
===========

The table below gives a description of all the columns of the table displayed when viewing hosts :

+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
|   Column name            |   Description                                                                                                                    | 
+==========================+==================================================================================================================================+
| S                        | Displays the severity level of the host                                                                                          |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Hosts                    | Displays the name of the host..                                                                                                  |
|                          | The icon |nonotifications| indicates that the notifications for this host are disabled.                                          |
|                          | The icon |graphperformances| can be used to view all the performance graphs for this host.                                       |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Status                   | Serves to view the status of the host                                                                                            |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| IP Address               | Indicates the IP address of the host                                                                                             |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Last Check               | Displays the date and the time of the last check                                                                                 |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Duration                 | Displays the time that the host a has kept its current status                                                                    |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Hard State Duration      | Displays the time that the host a has kept its current hard state (does not appear when viewing of all the hosts)                |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Tries                    | Displays the number of tries before confirming the state                                                                         |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+
| Status information       | Displays the message explaining the status of the host                                                                           |
+--------------------------+----------------------------------------------------------------------------------------------------------------------------------+

.. note::
    The severity column and the associated filter appear if at least one object displayed has a severity level.

Available filters
-----------------

You can filter the result presented via the following filters :

* **Host** : can be used to filter by name of host via an SQL LIKE type search.
* **Status** : can be used to filter by the status of hosts.
* **Severity** : can be used to filter by severity.
* **Poller** : can be used to filter the hosts by poller. Only the hosts of the poller selected will be displayed.
* **Hostgroup** : can be used to filter by host group. Only the hosts of the host group selected will be displayed.

.. note::
    The search on text fields only starts after entry of at least 3 characters.

Host groups table
=================

The table below gives a description of all the columns of the table displays when of the viewing host groups :

+--------------------------+------------------------------------------------------------------------------------------------------------+
|   Column name            |   Description                                                                                              | 
+==========================+============================================================================================================+
| Groupes d'hôtes          | Liste l'ensemble des groupes d'hôtes                                                                       |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| Etat des hôtes           | Permet de visualiser le nombre d'hôtes ayant le statut disponible, indisponible, injoignable ou en attente |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| Etat des services        | Permet de visualiser le nombre de services ayant le statut OK, WARNING, CRITICAL ou PENDING                |
+--------------------------+------------------------------------------------------------------------------------------------------------+

Filtres disponibles
-------------------

Vous pouvez filtrer le résultat présenté en sélectionnant dans la liste déroulante un collecteur.
Seuls les hôtes du collecteur sélectionné seront affichés.

Détails d'un hôte
=================

Lorsque vous cliquez sur un hôte, la page suivante s'affiche :

.. image :: /images/user/monitoring/04hostdetail.png
   :align: center 

Détails du statut
-----------------

Le tableau ci-dessous résume l'ensemble des attributs de cette partie :

+------------------------------------------+-----------------------------------------------------------------------------------------------------+
|   Attributs                              |   Description                                                                                       | 
+==========================================+=====================================================================================================+
| Statut de l'hôte                         | Affiche le statut de l'hôte                                                                         |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Statut détaillé                          | Affiche le message associé au statut de l'hôte                                                      |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Données de performance                   | Affiche les données de performances renvoyées par la sonde                                          |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Tentative                                | Affiche le nombre de tentative avant validation de l'état                                           |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Type d'état                              | Affiche le type d'état ('SOFT' ou 'HARD')                                                           |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernier contrôle                         | Affiche la date et l'heure du dernier contrôle effectué sur l'hôte                                  |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Prochain contrôle                        | Affiche la date et l'heure du prochain contrôle effectué sur l'hôte                                 |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Latence                                  | Affiche le temps de latence entre la programmation de l'exécution et l'exécution réelle de la sonde |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Temps d'exécution                        | Affiche le temps d'exécution de la sonde                                                            |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Changement du dernier état               | Affiche la date et l'heure depuis laquelle l'hôte est dans l'état actuel                            |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Durée de l'état actuel                   | Affiche la durée depuis laquelle l'hôte est dans l'état actuel                                      |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernier notification                     | Affiche la date et l'heure d'envoi de la dernière notification                                      |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Prochaine notification                   | Affiche la date et l'heure d'envoi de la prochaine notification                                     |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Numéro de notification actuel            | Affiche le nombre de notifications déjà envoyées                                                    |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Est\-ce que le statut de l'hôte bagote ? | Indique si l'hôte bagotte (a le statut FLAPPING)                                                    |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Pourcentage de changement de statut      | Affiche le pourcentage de changement d'état                                                         |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Planification d'arrêt en cours?          | Indique si l'hôte est concerné par un temps d'arrêt                                                 |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernière mise à jour                     | Affiche la date et l'heure de la dernière mise à jour                                               |
+------------------------------------------+-----------------------------------------------------------------------------------------------------+

Options et Commandes disponibles
--------------------------------

Les options ainsi que les commandes permettent d'effectuer un certain nombre d'actions sur l'hôte.
Ces différentes options sont traitées au sein du :ref:`guide d'exploitation<exploitationguide>`.

.. _shorthostlinks:

Raccourcis d'hôtes
------------------

Le tableau ci-dessous résume la signification des icônes :
 
+------------------------+--------------------------------------------------------------------+
|  Icône                 |  Description                                                       | 
+========================+====================================================================+
| |configure|            | Redirige vers la page de configuration de l'hôte                   |
+------------------------+--------------------------------------------------------------------+
| |showservicesstatuts|  | Affiche le statut de tous les services liés à l'hôte               |
+------------------------+--------------------------------------------------------------------+
| |showlogs|             | Affiche les journaux liés à l'hôte                                 |
+------------------------+--------------------------------------------------------------------+
| |showresult|           | Affiche le rapport de disponibilité lié à l'hôte                   |
+------------------------+--------------------------------------------------------------------+
| |showgraphperf|        | Affiche les graphiques de performances des services liés à l'hôte  |
+------------------------+--------------------------------------------------------------------+

Outils
------

Le conteneur **Outils** permet :

* D'effectuer un PING vers l'hôte
* D'effectuer un traceroute vers l'hôte

Liens
-----

Le conteneur **Liens** permet de visualiser les groupes d'hôtes auxquels l'hôte appartient.

Notifications
-------------

Le conteneur **Notifications** permet de visualiser quels sont les contacts et les groupes de contacts qui seront alertés
en cas d'envoi d'une notification.

********
Services
********

Visualisation
=============

Pour visualiser le statut des services, rendez-vous dans le menu **Supervision** ==> **Services**.

.. image :: /images/user/monitoring/04servicelist.png
   :align: center 

La barre de recherche grise permet de filtrer les résultats affichés.
Le menu de gauche permet de modifier les services visibles au sein du tableau :

* Pour visualiser les services rencontrant un problème validé (état "HARD") mais étant non acquittés, cliquez sur **Problèmes non acquittés**
* Pour visualiser tous les services rencontrant un problème (validé ou non, acquittés ou non), cliquez sur **Problèmes en cours**
* Pour visualiser tous les services, cliquez sur **Tous les services**
* Pour visualiser tous les services (classés par hôtes), quel que soit le statut, cliquez sur **Détails** (en dessous d'hôtes)

.. image :: /images/user/monitoring/04servicelistbyhostdetail.png
   :align: center
   
* Pour visualiser le nombre de services (classés par hôtes et statuts), cliquez sur **Résumé** (en dessous d'hôtes)

.. image :: /images/user/monitoring/04servicelistbyhost.png
   :align: center
  
* Pour visualiser tous les services (classés par groupes d'hôtes), cliquez sur **Détails** (en dessous de groupe d'hôtes)

.. image :: /images/user/monitoring/04servicelistbyhostgroupdetail.png
   :align: center
   
* Pour visualiser le nombre de services (classés par groupes d'hôtes et statuts), cliquez sur **Résumé** (en dessous de groupe d'hôtes)

.. image :: /images/user/monitoring/04servicelistbyhostgroup.png
   :align: center
   
* Pour visualiser tous les services (classés par groupes de services), cliquez sur **Détails** (en dessous de groupe de services)

.. image :: /images/user/monitoring/04servicelistbyservicegroupdetail.png
   :align: center
   
* Pour visualiser le nombre de services (classés par groupes de services et statuts), cliquez sur **Résumé** (en dessous de groupe de services)

.. image :: /images/user/monitoring/04servicelistbyservicegroup.png
   :align: center

* Pour visualiser les méta-services, cliquez sur **Méta-Services**

.. image :: /images/user/monitoring/04metaservices.png
   :align: center

Tableaux de services
====================

Le tableau ci-dessous décrit les colonnes affichées lors de la visualisation des services.

+--------------------+-------------------------------------------------------------------------------------------------------------------------+
|  Nom de la colonne |   Description                                                                                                           | 
+====================+=========================================================================================================================+
| S                  | Affiche le niveau de criticité du service                                                                               |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Hôtes              | Affiche le nom de l'hôte. L'icône |url_link| permet d'accéder à une page web décrivant l'hôte                           |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Services           | Affiche le nom du service. L'icône |nonotifications| indique que les notifications pour ce service sont désactivées.    |
|                    | L'icône |graphperformances| permet de visualiser le graphique de performance lié à ce service.                          |
|                    | L'icône |url_link| permet d'accéder à une page web décrivant le service                                                 |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Validé depuis      | Affiche la durée depuis laquelle le service a conservé son statut actuel                                                |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Dernier contrôle   | Affiche la date et l'heure du dernier contrôle effectué                                                                 |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Tentatives         | Affiche le nombre de tentatives effectuées pour valider l'état                                                          |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+
| Statut détaillé    | Affiche le message expliquant le statut du service                                                                      |
+--------------------+-------------------------------------------------------------------------------------------------------------------------+

.. note::
    La colonne criticité ainsi que le filtre associé apparaissent si au moins un objet affiché possède un niveau de criticité.

.. note::
    La colonne **Validé depuis** n'apparait pas lors de la sélection du menu contextuel **Tous les services**.

Tableaux des groupes
====================

Le tableau ci-dessous décrit les colonnes affichées lors de la visualisation des services classés par groupes.

+------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
|   Nom de la colonne          |   Description                                                                                                                        | 
+==============================+======================================================================================================================================+
| Hôtes ou Groupes d'hôtes     | Liste l'ensemble des hôtes ou hôtes séparés par des groupes d'hôtes ou hôtes séparées par des groupes de services                    |
| Hôtes ou Groupes de services | L'icône |showservices| permet de visualiser l'ensemble des services liés à l'hôte                                                    |
| Hôtes                        | L'icône |graphperformances| permet de visualiser l'ensemble des graphiques de performances liés aux services appartenant à l'hôte    |
+------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| Statut                       | Affiche le statut de l'hôte                                                                                                          |
+------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| Informations sur les services| Affiche le statut des services (Mode détaillé) ou le nombre de services classés par statut (Mode résumé)                             |
+------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+

Tableaux des méta-services
==========================

Le tableau ci-dessous décrit les colonnes affichées lors de la visualisation des méta-services.

+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
|   Nom de la colonne      |   Description                                                                                                                            | 
+==========================+==========================================================================================================================================+
| Méta\-Services           | Affiche le nom du méta\-service. L'icône |graphperformances| permet de visualiser le graphique de performance lié à ce méta\-service.    |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
| Statut                   | Affiche le statut du méta\-service                                                                                                       |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
| Durée                    | Affiche la durée depuis laquelle le méta\-service n'a pas changé de statut                                                               |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
| Dernier contrôle         | Affiche la date et l'heure du dernier contrôle                                                                                           |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
| Tentative                | Affiche le nombre de tentatives pour valider l'état                                                                                      |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
| Statut détaillé          | Affiche le message lié au statut                                                                                                         |
+--------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Détails d'un service
====================

Lorsque vous cliquez sur un service, la page suivante s'affiche :

.. image :: /images/user/monitoring/04servicedetail.png
   :align: center

Détails du statut
-----------------

Le tableau ci-dessous résume l'ensemble des attributs de cette partie :

+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
|   Attributs                               |   Description                                                                                       |
+===========================================+=====================================================================================================+
| Statut du service                         | Affiche le statut du service                                                                        |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Statut détaillé                           | Affiche le message associé au statut du service                                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Informations d'état étendues              | Affiche le message long ("long output") associé au statut du service                                |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Données de performance                    | Affiche les données de performances renvoyées par la sonde                                          |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Tentative                                 | Affiche le nombre de tentative en cours pour valider l'état                                         |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Type d'état                               | Affiche le type d'état ('SOFT' ou 'HARD')                                                           |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernier contrôle                          | Affiche la date et l'heure du dernier contrôle effectué sur le service                              |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Prochain contrôle                         | Affiche la date et l'heure du prochain contrôle effectué sur le service                             |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Latence                                   | Affiche le temps de latence entre la programmation de l'exécution et son exécution réelle           |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Temps d'exécution                         | Affiche le temps d'éxécution de la sonde                                                            |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Changement du dernier état                | Affiche la date et l'heure depuis laquelle le service est dans l'état actuel                        |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Durée de l'état actuel                    | Affiche la durée depuis laquelle le service est dans l'état actuel                                  |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernier notification                      | Affiche la date et l'heure d'envoi de la dernière notification                                      |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Numéro de notification actuel             | Affiche le nombre de notifications déjà envoyées                                                    |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Est\-ce que le statut du service bagote ? | Indique si le service bagotte (statut FLAPPING)                                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Pourcentage de changement de statut       | Affiche le pourcentage de changement d'état                                                         |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Planification d'arrêt en cours?           | Indique si le service est concerné par un temps d'arrêt                                             |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+
| Dernière mise à jour                      | Affiche la date et l'heure de la dernière mise à jour                                               |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------+

Options et commandes du service
-------------------------------

Les options ainsi que les commandes du service permettent d'effectuer un certain nombre d'actions sur le service.
Ces différentes options sont traitées au sein du :ref:`guide d'exploitation<exploitationguide>`.

Graphique détaillé et graphiques des statuts
--------------------------------------------

Les parties **Graphique détaillé** et **Graphique des statuts** permettent respectivement de visualiser le graphique de performance 
ainsi que le graphique d'historique de statuts pour ce service.

Raccourcis d'hôte
-----------------

Les raccourcis d'hôtes sont les mêmes que ceux de la fiche :ref:`d'hôte<shorthostlinks>`.

Raccourcis de service
---------------------

Le tableau ci-dessous résume la signification des icônes :
 
+------------------------+--------------------------------------------------------------------+
|  Icône                 |  Description                                                       | 
+========================+====================================================================+
| |configure|            | Redirige vers la page de configuration du service                  |
+------------------------+--------------------------------------------------------------------+
| |showservicesstatuts|  | Affiche le statut de tous les services liés à l'hôte               |
+------------------------+--------------------------------------------------------------------+
| |showlogs|             | Affiche les journaux liés au service                               |
+------------------------+--------------------------------------------------------------------+
| |showresult|           | Affiche le rapport de disponibilité lié au service                 |
+------------------------+--------------------------------------------------------------------+

Liens
-----

Le conteneur **Liens** permet de visualiser :

* Les groupes d'hôtes auxquels l'hôte contenant le service appartient
* Les groupes de services auxquels le service appartient
* Les catégories de services auxquels le service appartient

Notifications
-------------

Le conteneur **Notifications** permet de visualiser quels sont les contacts et les groupes de contacts qui seront alertés
en cas d'envoi d'une notification.

**********************
Moteurs de supervision
**********************

Ce menu contextuel permet de visualiser des informations complémentaires telles que la file d'attente des contrôles prévus 
par l'ordonnanceur, les commentaires ou les temps d'arrêt ajoutés aux objets .

.. note::
	Pour plus d'informations sur les commentaires ou sur les temps d'arrêt, rendez-vous dans le :ref:`guide d'exploitation<exploitationguide>`.

File d'attente
==============

La file d'attente présente l'ordonnancement prévu des contrôles à réaliser par les ordonnanceurs de supervision.

Pour visualiser la file d'attente :

#. Rendez-vous dans le menu **Supervision  ==> Hôtes** ou **Services**
#. Dans le menu de gauche, sous **Moteur de supervision**, cliquez sur **File d'attente**

.. image :: /images/user/monitoring/04waitingqueue.png
   :align: center

Le tableau ci-dessous décrit les colonnes de cette page.

+--------------------+-------------------------------------------------+
|  Nom de la colonne |   Description                                   |
+====================+=================================================+
| Hôtes              | Indique le nom de l'hôte                        |
+--------------------+-------------------------------------------------+
| Services           | Indique le nom du service                       |
+--------------------+-------------------------------------------------+
| Dernier contrôle   | Affiche la date et l'heure du dernier contrôle  |
+--------------------+-------------------------------------------------+
| Prochain contrôle  | Affiche la date et l'heure du prochain contrôle |
+--------------------+-------------------------------------------------+
| Contrôle actif     | Indique si le contrôle est actif et/ou passif   |
+--------------------+-------------------------------------------------+

Filtres disponibles
-------------------

Vous pouvez filtrer le résultat présenté via les filtres suivants :

* **Hôte** : permet de filtrer par nom d'hôte via une recherche de type SQL LIKE.
* **Service** : permet de filtrer par le nom du service.
* **Collecteur** : permet de filtrer par ordonnanceur. Seules les ressources supervisées par cet ordonnanceur seront affichées.

.. note::
    La recherche sur les champs texte ne commence qu'à partir de la saisie du troisième caractère.

Les temps d'arrêts
==================

Pour visualiser les temps d'arrêts en cours sur les ressources :

#. Rendez-vous dans le menu **Supervision** ==> **Hôtes** ou **Services**
#. Dans le menu de gauche, sous **Moteur de supervision**, cliquez sur **Temps d'arrêt**

.. image :: /images/user/monitoring/04downtimelist.png
   :align: center

Le tableau ci-dessous décrit les colonnes de cette page.

+------------------------------------------------+---------------------------------------------------+
|  Nom de la colonne                             |   Description                                     | 
+================================================+===================================================+
| Nom de l'hôte                                  | Indique le nom de l'hôte                          |
+------------------------------------------------+---------------------------------------------------+
| Service (si on utilise la page Services)       | Affiche le service concerné par le temps d'arrêt  |
+------------------------------------------------+---------------------------------------------------+
| Date et heure de début et Date et heure de fin | Affiche la date et l'heure de début et de fin     |
+------------------------------------------------+---------------------------------------------------+
| Durée                                          | Affiche la durée du temps d'arrêt                 |
+------------------------------------------------+---------------------------------------------------+
| Auteur                                         | Affiche la personne ayant ajouté ce temps d'arrêt |
+------------------------------------------------+---------------------------------------------------+
| Commentaires                                   | Affiche le raison du temps d'arrêt                |
+------------------------------------------------+---------------------------------------------------+
| Démarré                                        | Indique si le temps d'arrêt est en cours ou non   |
+------------------------------------------------+---------------------------------------------------+
| Fixe                                           | Indique si le temps d'arrêt est fixe ou non       |
+------------------------------------------------+---------------------------------------------------+

Filtres disponibles
-------------------

Vous pouvez filtrer le résultat présenté via les filtres suivants :

* **Nom de l'hôte** : permet de filtrer par nom d'hôte via une recherche de type SQL LIKE.
* **Service** : permet de filtrer par le nom du service.
* **Statut détaillé** : permet de filtrer par le statut détaillé des services.
* **Auteur** : permet de filtrer par utilisateur ayant créé des commentaires.
* **Afficher les temps d'arrêt terminés** : permet d'afficher en plus les temps d'arrêt terminés.
* **Afficher les temps d'arrêt récurrents** : permet d'afficher les temps d'arrêts récurrents.

.. note::
    La recherche sur les champs texte ne commence qu'à partir de la saisie du troisième caractère.

Les commentaires
================

Pour visualiser les commentaires définis sur les ressources :

#. Rendez-vous dans le menu **Supervision** ==> **Hôtes** ou **Services**
#. Dans le menu de gauche, sous **Moteur de supervision** cliquez sur **Commentaires**

.. image :: /images/user/monitoring/04comments.png
   :align: center

Le tableau ci-dessous décrit les colonnes de cette page.

+-------------------------------------------------------------------+------------------------------------------------------------------------+
|  Nom de la colonne                                                |   Description                                                          | 
+===================================================================+========================================================================+
| Nom de l'hôte                                                     | Indique le nom de l'hôte                                               |
+-------------------------------------------------------------------+------------------------------------------------------------------------+
| Service (si on utilise la page Services)                          | Affiche le service concerné par le commentaire                         |
+-------------------------------------------------------------------+------------------------------------------------------------------------+
| Date de saisie                                                    | Affiche la date et l'heure où le commentaire a été saisi               |
+-------------------------------------------------------------------+------------------------------------------------------------------------+
| Auteur                                                            | Affiche la personne ayant ajouté ce commentaire                        |
+-------------------------------------------------------------------+------------------------------------------------------------------------+
| Commentaires                                                      | Affiche le contenu du commentaire                                      |
+-------------------------------------------------------------------+------------------------------------------------------------------------+
| Acquittement persistant en cas de redémarrage de l'ordonnanceur   | Indique si le commentaire reste après le redémarrage de l'ordonnanceur |
+-------------------------------------------------------------------+------------------------------------------------------------------------+

Filtres disponibles
-------------------

Vous pouvez filtrer le résultat présenté via les filtres suivants :

* **Nom de l'hôte** : permet de filtrer par nom d'hôte via une recherche de type SQL LIKE.
* **Service** : permet de filtrer par le nom du service.
* **Statut détaillé** : permet de filtrer par le statut détaillé des services.

.. note::
    La recherche sur les champs texte ne commence qu'à partir de la saisie du troisième caractère.

.. |pause|    image:: /images/pause.png
.. |refresh|    image:: /images/refresh.png
.. |resume|    image:: /images/resume.png
.. |graphperformances|    image:: /images/graphperformances.png
.. |url_link|    image:: /images/url_link.png
.. |passive_service|    image:: /images/passive_service.png
.. |showservices|    image:: /images/showservices.png
.. |nonotifications|    image:: /images/nonotifications.png
.. |configure|    image:: /images/configure.png
.. |showservicesstatuts|    image:: /images/showservicesstatuts.png
.. |showlogs|    image:: /images/showlogs.png
.. |showgraphperf|    image:: /images/showgraphperf.png
.. |showresult|    image:: /images/showresult.png
